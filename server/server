package helloworld;

service CRMService {
    rpc AddManager(AddManagerRequest) returns (AddManagerReply) {}
    rpc GetManager(GetManagerRequest) returns (GetManagerReply) {}
    rpc IsCorrectPassword(IsCorrectPasswordRequest) returns (IsCorrectPasswordReply) {}
    rpc ManagerInfo(ManagerInfoRequest) returns (ManagerInfoReply) {}
    rpc AddClient(AddClientRequest) returns (AddClientReply) {}
    rpc DeleteClient(DeleteClientRequest) returns (DeleteClientReply) {}
    rpc UpdateAllClients(UpdateAllClientsRequest) returns (UpdateAllClientsReply) {}
    rpc ClientInfo(ClientInfoRequest) returns (ClientInfoReply) {}
    rpc GetDealProcess(GetDealProcessRequest) returns (GetDealProcessReply) {}
}

message AddManagerRequest {
    people::Manager &manager = 1;
}

message AddManagerReply {
    int64 managerId = 1;
}

message GetManagerRequest {
    people::Manager &inputManager = 1;
    std::string &inputEmail = 2;
}

message GetManagerReply {
    people::Manager &inputEmail = 1; //???
}

message IsCorrectPasswordRequest {
    std::string &inputEmail = 1;
    std::string &inputPassword = 2;
}

message IsCorrectPasswordReply {
    bool find = 1;
}

message ManagerInfoRequest {
    people::Manager &manager = 1;
}

message ManagerInfoReply {
    std::string managerInfo = 1;
}

message AddClientRequest {
    people::Client &client = 1;
    std::string &managerEmail = 2;
}

message AddClientReply {
    int64 managerId = 1;
}

message DeleteClientRequest {
    std::string &clientEmail = 1;
    std::string &managerEmail = 2;
}

message DeleteClientReply {
    // ???
}

message UpdateAllClientsRequest {
    people::Manager &manager = 1;
}

message UpdateAllClientsReply {
    // ???
}

message ClientInfoRequest {
    people::Client &client = 1;
}

message ClientInfoReply {
    std::string clientInfo = 1;
}

message GetDealProcessRequest {
    people::Client &client = 1;
}

message GetDealProcessReply {
    std::vector<std::string> dealProcessInfo = 1;
}
